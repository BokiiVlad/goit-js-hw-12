{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function pixApi(inputValue, currentPage) {\n    const axiosOptions = {\n        method: {\n            per_page: 15,\n            page: currentPage,\n            key: \"48300565-6dad9db0463f535246b89c980\",\n            q: inputValue,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: \"true\",\n        },\n    };\n\n    return axios.get(`https://pixabay.com/api/?${searchParams}`, axiosOptions)\n};","import axios from 'axios';\n\nexport function createImg(responseObj) {\n  const { largeImageURL, webformatURL, tags, likes, views, comments, downloads } = responseObj;\n\n  return `<a href=\"${largeImageURL}\" class=\"gallery-item\">\n    <div class=\"photo-card\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" width=\"360\" />\n      <div class=\"photo-info\">\n        <p class=\"photo-info-item\">Likes<span>${likes}</span></p>\n        <p class=\"photo-info-item\">Views<span>${views}</span></p>\n        <p class=\"photo-info-item\">Comments<span>${comments}</span></p>\n        <p class=\"photo-info-item\">Downloads<span>${downloads}</span></p>\n      </div>\n    </div>\n  </a>`;\n};\n","// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { pixApi } from \"./js/pixabay-api\";\nimport { createImg } from \"./js/render-function\";\n\nconst formField = document.querySelector(\".form\");\nconst subButton = document.querySelector(\".but-style\");\nconst imageField = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader-container\");\nconst butMore = document.querySelector(\".but-more\");\n\n// Модальні вікна картинок\nconst galleryOpen = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt', captionDelay: 250, captions: true,\n});\n// Вимикаю лоадер при загрузці сторінки\nloader.style.display = 'none';\n\nlet currentPage = 1;\n\nconst imageGallery = async (event) => {\n    try {\n        imageField.innerHTML = \"\";\n        loader.style.display = 'flex';\n        event.preventDefault()\n        // Значення інпута\n        const inputValue = formField.elements.search.value.trim();\n        // Перевірка значення інпута\n        if (inputValue === \"\") {\n            loader.style.display = 'none';\n            iziToast.warning({\n                title: 'Warning',\n                message: 'Enter correct data.'\n            });\n            return;\n        }\n        // Очищення форми \n        formField.reset()\n        // Запит до сервера\n        const response = await pixApi(inputValue);\n        // Перевіряю чи поветраються з сервера картинки\n        if (response.data.total === 0) {\n            iziToast.error({\n                title: 'Error',\n                message: 'Sorry, there are no images matching your search query. Please try again!'\n            });\n            return;\n        }\n        // За допомогою функції генерую HTML\n        const imageArray = response.data.hits.map(el => createImg(el))\n        // Вставляю елементи в DOM\n        imageField.innerHTML = imageArray.join('');\n        galleryOpen.refresh();\n    } catch (error) {\n        console.log(error);\n    } finally {\n        // Вимикаю лоадер\n        loader.style.display = 'none';\n    }\n\n    butMore.addEventListener(\"click\")\n    function addPages(params) {\n\n    }\n}\n\nsubButton.addEventListener(\"submit\", imageGallery);"],"names":["pixApi","inputValue","currentPage","axiosOptions","axios","createImg","responseObj","largeImageURL","webformatURL","tags","likes","views","comments","downloads","formField","subButton","imageField","loader","butMore","galleryOpen","SimpleLightbox","imageGallery","event","iziToast","response","imageArray","el","error"],"mappings":"owBAEO,eAAeA,EAAOC,EAAYC,EAAa,CAClD,MAAMC,EAAe,CACjB,OAAQ,CACJ,SAAU,GACV,KAAMD,EACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACf,CACT,EAEI,OAAOG,EAAM,IAAI,4BAA4B,YAAY,GAAID,CAAY,CAC7E,CCdO,SAASE,EAAUC,EAAa,CACrC,KAAM,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EAEjF,MAAO,YAAYC,CAAa;AAAA;AAAA,kBAEhBC,CAAY,UAAUC,CAAI;AAAA;AAAA,gDAEIC,CAAK;AAAA,gDACLC,CAAK;AAAA,mDACFC,CAAQ;AAAA,oDACPC,CAAS;AAAA;AAAA;AAAA,OAI7D,CCJA,MAAMC,EAAY,SAAS,cAAc,OAAO,EAC1CC,EAAY,SAAS,cAAc,YAAY,EAC/CC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAS,SAAS,cAAc,mBAAmB,EACnDC,EAAU,SAAS,cAAc,WAAW,EAG5CC,EAAc,IAAIC,EAAe,aAAc,CACjD,aAAc,MAAO,aAAc,IAAK,SAAU,EACtD,CAAC,EAEDH,EAAO,MAAM,QAAU,OAIvB,MAAMI,EAAe,MAAOC,GAAU,CAClC,GAAI,CACAN,EAAW,UAAY,GACvBC,EAAO,MAAM,QAAU,OACvBK,EAAM,eAAgB,EAEtB,MAAMrB,EAAaa,EAAU,SAAS,OAAO,MAAM,OAEnD,GAAIb,IAAe,GAAI,CACnBgB,EAAO,MAAM,QAAU,OACvBM,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,qBACzB,CAAa,EACD,MACH,CAEDT,EAAU,MAAO,EAEjB,MAAMU,EAAW,MAAMxB,EAAOC,CAAU,EAExC,GAAIuB,EAAS,KAAK,QAAU,EAAG,CAC3BD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EACzB,CAAa,EACD,MACH,CAED,MAAME,EAAaD,EAAS,KAAK,KAAK,IAAIE,GAAMrB,EAAUqB,CAAE,CAAC,EAE7DV,EAAW,UAAYS,EAAW,KAAK,EAAE,EACzCN,EAAY,QAAO,CACtB,OAAQQ,EAAO,CACZ,QAAQ,IAAIA,CAAK,CACzB,QAAc,CAENV,EAAO,MAAM,QAAU,MAC1B,CAEDC,EAAQ,iBAAiB,OAAO,CAIpC,EAEAH,EAAU,iBAAiB,SAAUM,CAAY"}