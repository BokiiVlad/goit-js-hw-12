{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["\nexport function pixApi(inputValue) {\n    const searchParams = new URLSearchParams({\n        key: \"48300565-6dad9db0463f535246b89c980\",\n        q: inputValue,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        orientation: \"true\",\n    });\n\n    return fetch(`https://pixabay.com/api/?${searchParams}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n};","export function createImg(responseObj) {\n  const { largeImageURL, webformatURL, tags, likes, views, comments, downloads } = responseObj;\n\n  return `<a href=\"${largeImageURL}\" class=\"gallery-item\">\n    <div class=\"photo-card\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" width=\"360\" />\n      <div class=\"photo-info\">\n        <p class=\"photo-info-item\">Likes<span>${likes}</span></p>\n        <p class=\"photo-info-item\">Views<span>${views}</span></p>\n        <p class=\"photo-info-item\">Comments<span>${comments}</span></p>\n        <p class=\"photo-info-item\">Downloads<span>${downloads}</span></p>\n      </div>\n    </div>\n  </a>`;\n};\n","// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { pixApi } from \"./js/pixabay-api\";\nimport { createImg } from \"./js/render-function\";\n\nconst formField = document.querySelector(\".form\");\nconst subButton = document.querySelector(\".but-style\");\nconst imageField = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader-container\")\n\nconst galleryOpen = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt', captionDelay: 250, captions: true,\n});\nloader.style.display = 'none';\nsubButton.addEventListener(\"click\", (event) => {\n    imageField.innerHTML = \"\";\n    loader.style.display = 'flex';\n    event.preventDefault()\n\n    const inputValue = formField.elements.search.value.trim();\n\n    if (inputValue === \"\") {\n        iziToast.warning({\n            title: 'Warning',\n            message: 'Enter correct data.'\n        });\n        return;\n    }\n    formField.reset()\n    pixApi(inputValue)\n        .then(\n            response => {\n                if (response.total === 0) {\n                    iziToast.error({\n                        title: 'Error',\n                        message: 'Sorry, there are no images matching your search query. Please try again!'\n                    });\n                    return;\n                }\n                const imageArray = response.hits.map(el => createImg(el))\n                imageField.innerHTML = imageArray.join('');\n                galleryOpen.refresh();\n            }\n        )\n        .catch(\n            error => {\n                console.log(error.message);\n            }\n        )\n        .finally(() => {\n            loader.style.display = 'none';\n        }\n        )\n});"],"names":["pixApi","inputValue","searchParams","response","createImg","responseObj","largeImageURL","webformatURL","tags","likes","views","comments","downloads","formField","subButton","imageField","loader","galleryOpen","SimpleLightbox","event","iziToast","imageArray","el","error"],"mappings":"6vBACO,SAASA,EAAOC,EAAY,CAC/B,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,YAAa,MACrB,CAAK,EAED,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EAClD,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CCjBO,SAASC,EAAUC,EAAa,CACrC,KAAM,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EAEjF,MAAO,YAAYC,CAAa;AAAA;AAAA,kBAEhBC,CAAY,UAAUC,CAAI;AAAA;AAAA,gDAEIC,CAAK;AAAA,gDACLC,CAAK;AAAA,mDACFC,CAAQ;AAAA,oDACPC,CAAS;AAAA;AAAA;AAAA,OAI7D,CCHA,MAAMC,EAAY,SAAS,cAAc,OAAO,EAC1CC,EAAY,SAAS,cAAc,YAAY,EAC/CC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAS,SAAS,cAAc,mBAAmB,EAEnDC,EAAc,IAAIC,EAAe,aAAc,CACjD,aAAc,MAAO,aAAc,IAAK,SAAU,EACtD,CAAC,EACDF,EAAO,MAAM,QAAU,OACvBF,EAAU,iBAAiB,QAAUK,GAAU,CAC3CJ,EAAW,UAAY,GACvBC,EAAO,MAAM,QAAU,OACvBG,EAAM,eAAgB,EAEtB,MAAMlB,EAAaY,EAAU,SAAS,OAAO,MAAM,OAEnD,GAAIZ,IAAe,GAAI,CACnBmB,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,qBACrB,CAAS,EACD,MACH,CACDP,EAAU,MAAO,EACjBb,EAAOC,CAAU,EACZ,KACGE,GAAY,CACR,GAAIA,EAAS,QAAU,EAAG,CACtBiB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EACjC,CAAqB,EACD,MACH,CACD,MAAMC,EAAalB,EAAS,KAAK,IAAImB,GAAMlB,EAAUkB,CAAE,CAAC,EACxDP,EAAW,UAAYM,EAAW,KAAK,EAAE,EACzCJ,EAAY,QAAO,CACtB,CACJ,EACA,MACGM,GAAS,CACL,QAAQ,IAAIA,EAAM,OAAO,CAC5B,CACJ,EACA,QAAQ,IAAM,CACXP,EAAO,MAAM,QAAU,MAC1B,CACA,CACT,CAAC"}